---
title: 221023 TIL | 이펙티브 타입스크립트_&#35;4 타입 단언보다 타입 사용하기
tags: [TypeScrip, TIL]
---


## 타입 단언보다 타입 선언 사용하기

- 자바스크립트에서 타입을 선언하는 방법은 두 가지가 있다.
    1. 타입 단언
    2. 타입 선언

```tsx
interface Person { name: string };

// 타입 단언 방식
const alice: Person = { name: 'Alice' };  // Type is Person
// 타입 선언 방식
const bob = { name: 'Bob' } as Person;  // Type is Person
```

- 타입 단언보다 타입 선언을 사용하는 것이 좋다.
    - 타입 단언은 안정성 체크를 하지 않고, 강제로 타입을 지정하기 대문에 타입 체커에서 오류를 무시한다.
- 유형에 필요한 속성을 지정하지 않았을 때, 속성을 추가할 때도 마찬가지이다.

```tsx
// name 속성을 지정하지 않았을 때
interface Person { name: string };
const alice: Person = {};
   // ~~~~~ 'Person' 타입에 'name' 속성이 필요한데 '{}' 유형에 없다. 
const bob = {} as Person;  // 에러 없음

// 속성을 추가할 때
const alice: Person = {
  name: 'Alice',
  occupation: 'TypeScript developer'
// ~~~~~~~~~~ 'Person' 형식에 'occupation'가 없다.
//						개체 리터럴은 알려진 속성만 지정할 수 있다.
};
const bob = {
  name: 'Bob',
  occupation: 'JavaScript developer'
} as Person;  // 에러 없음
```

```tsx
// 해당 단언문은 타입 단언의 원래 문법이다. 
// {} as Person과 똑같이 작동한다.
const bob = <Person>{};
// 쓰지 맙시다.
```

### 화살표 함수 안에서 타입 선언문

- 화살표 함수를 사용할 때 타입 단언문을 이용하면 정말 편하겠지만, 위와 마찬가지로 오류가 발생할 수 있다.
- 타입 선언문 예시

```tsx
interface Person { name: string };

// 1. 변수를 사용하는 방법
const people = ['alice', 'bob', 'jan'].map(name => {
  const person: Person = {name};
  return person
}); // Type is Person[]

// 2. 화살표 함수를 사용하는 방법
// 함수 호출 체이닝이 연속되는 경우 체이닝 시작부터 명명된 타입을 가져야 한다.
// return 받을 타입이 Person[]임을 반드시 명시한다.
const people: Person[] = ['alice', 'bob', 'jan'].map(
	// (name): Person은 name의 타입이 없고, 반환 타입이 Person이라는 것을 명시한다.
  (name): Person => ({name})
); // Type is Person[]
```

### 타입 단언이 꼭 필요한 경우

- 타입 체커가 추론한 타입보다 개발자가 판단하는 타입이 더 정확할 때가 있다.
    - ex ) DOM 엘리먼트에 대해 타입 추론을 할 때
    - 타입스크립트는 DOM에 접근할 수 없다.

```tsx
// tsConfig: {"strictNullChecks":false}

document.querySelector('#myButton').addEventListener('click', e => {
  e.currentTarget // 타입은 EventTarget
  const button = e.currentTarget as HTMLButtonElement;
  button // 타입은 HTMLButtonElement
});
```

### Null 단언문

- 단언문은 타입 체커가 알지 못하기 때문에 들어오는 값이 null이 아닌 것이 확실할 때 사용한다.
- null일수도 있다면 조건문을 사용해야 한다.

```tsx
const elNull = document.getElementById('foo');  // Type is HTMLElement | null
const el = document.getElementById('foo')!; // Type is HTMLElement
```